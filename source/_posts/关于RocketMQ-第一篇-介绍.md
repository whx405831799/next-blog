title: 关于RocketMQ-第一篇-介绍
date: 2017/02/12 18:56:06
categories:
- JAVA服务端-RocketMQ
tags:
- RocketMQ
---


# 一.什么是消息中间件
## 1.什么是消息中间件？
消息中间件利用高效可靠的消息传递机制进行平台无关的数据交流，分布式系统中重要的组件，主要解
决应用耦合，异步消息，流量削锋。实现高性能，高可用，可伸缩和最终一致性架构。是大型分
布式系统不可缺少的中间件。

## 2.消息中间件工作场景
- 消息中间件适用于需要可靠的数据传送的分布式环境。采用消息中间件机制的系统中，不同的对象之间通过传递消息来激活对方的事件，完成相应的操作。发送者将消息发送给消息服务器，消息服务器将消息存放在若干队列中，在合适的时候再将消息转发给接收者。
- 消息中间件能在不同平台之间通信，它常被用来屏蔽掉各种平台及协议之间的特性，实现应用程序之间的协同，其优点在于能够在客户和服务器之间提供同步和异步的连接，并且在任何时刻都可以将消息进行传送或者存储转发，这也是它比远程过程调用更进一步的原因。

# 二.关于RocketMQ
## 1.RocketMQ产品定义
产品基于高可用分布式集群技术，提供消息发布订阅、消息轨迹查询、定时（延时）消息、资源统计、监控
报警等一系列消息云服务，是企业级互联网架构的核心产品。
## 2.RocketMQ的角色
![image](http://ohoyk8evb.bkt.clouddn.com/rocketmq.png)

- Producer消息生产者，一般由业务系统产生消息。
- Consumer消息消费者，一般由服务端异步消费。（有两种，push consumer;pull consumer）
- Broker消息中转角色，存储消息，转发消息。(很多线上部署是用的多主无从)
- NameServer无状态节点，用来保存活跃的broker列表，topic列表。（可集群部署）

## 3.流程
- 先需要一个NameServer节点。类似于路由。Producer,Consumer,Broker之间的联系都需要通过访问NameServer，拿到需要的路由信息才能进行联系。
- 启动Broker
- 启动NameServer和Broker后则可以在控制台进行topic的增加和订阅。之后Producer就可以发送已有的topic消息，Consumer被broker允许后，便可以收到生产者的消息。